---
interface Props {
  lang: string;
}
const { lang } = Astro.props;
const languages = [
  { code: 'en', label: 'English', flag: '🇺🇸' },
  { code: 'de', label: 'Deutsch', flag: '🇩🇪' },
  { code: 'es', label: 'Español', flag: '🇪🇸' },
  { code: 'fr', label: 'Français', flag: '🇫🇷' },
  { code: 'it', label: 'Italiano', flag: '🇮🇹' },
  { code: 'pt', label: 'Português', flag: '🇵🇹' }
];
---
<header class="sticky top-0 z-40 backdrop-blur supports-[backdrop-filter]:bg-slate-900/75 bg-slate-800/90 border-b border-slate-700/60 shadow-sm">
  <nav class="max-w-6xl mx-auto flex items-center justify-between px-3 sm:px-4 lg:px-6 h-16">
    <a href={`/${lang}/`} aria-label="MelodyMind Podcasts" class="group inline-flex items-center gap-2 font-bold text-lg tracking-tight text-purple-400 hover:text-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:ring-offset-2 focus:ring-offset-slate-900 rounded px-2 py-1">
      <span class="text-xl transition-transform group-hover:scale-110" aria-hidden="true">🎵</span>
      <span class="bg-gradient-to-r from-pink-400 via-purple-400 to-indigo-400 bg-clip-text text-transparent">MelodyMind</span>
      <span class="hidden sm:inline text-slate-300 font-medium">Podcasts</span>
    </a>
    <div class="flex items-center gap-3">
      <div class="relative">
        <label for="language-select" class="sr-only">Language</label>
        <select id="language-select" aria-label="Select language" onchange="window.location.href='/' + this.value" class="appearance-none bg-slate-700/70 hover:bg-slate-600/70 text-white text-sm px-3 pr-8 py-2 rounded-md border border-slate-600 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-colors">
          {languages.map(l => <option value={l.code} selected={l.code === lang}>{l.flag + ' ' + l.label}</option>)}
        </select>
        <svg aria-hidden="true" viewBox="0 0 20 20" class="w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 text-slate-300 pointer-events-none"><path fill="currentColor" d="M5.23 7.21a.75.75 0 0 1 1.06.02L10 10.172l3.71-2.94a.75.75 0 0 1 1.04 1.08l-4.24 3.36a.75.75 0 0 1-.94 0L5.21 8.29a.75.75 0 0 1 .02-1.08Z"/></svg>
      </div>
    </div>
  </nav>
</header>
